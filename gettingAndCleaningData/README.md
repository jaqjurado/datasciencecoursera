# The Raw Data

The raw data was obtained from from accelerometers from the Samsung Galaxy S smartphone. This was obtained from https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip. Acopy of the raw data is also provided in this repository.

There are 2 sources for the raw data, the test data set and the training dataset. For each set, there features, activity id and subject id data are stored in 3 seperate files. These data has generic column names (e.g. V1, V2... etc)

Two sets of inertial signals data is also available but not used in this analysis.

Detailed description of the the raw data used:

A) Test Data - subset of the complete dataset that was used for testing the model
   * subject_test.txt - this has 2947 rows with single columnn containing subject ID used for the experiment 
   * X_test.txt - this has 2947 rows with 561 columns. Each column represent is a calculated feature
   * y_test.txt - this has 2947 rows with single columnn containing activity ID used for the experiment 

B) Train Data - subset of the complete dataset that was used to train the model
   * subject_train.txt - this has 7352 rows with single columnn containing subject ID used for the experiment 
   * X_train.txt -  this has 7352 rows with 561 columns. Each column represent is a calculated feature
   * y_train.txt - this has 7352 rows with single columnn containing activity ID used for the experiment

C) Supporting Data - additional information used 
   * features.txt - this contains the descriptive name of all the 561 computed features that represents the columns of the 'X' dataset 
   * activity_labels.txt - this contains the list of the aciticty names that is represented by the activity id column in the 'Y' dataset

# The Script

Script: run_analysis.R

The script aims to merge these training and test dataset into a single tidy dataset with descriptive column and summarize ONLY mean() and std() features by subject and activity.

*Data Processing Steps*
   * Read test files into data tables (feature (x), activity(y) and subject)
   * Read train files into data tables (feature (x), activity(y) and subject)
   * Read feature file into a data table
   * Merge the test and train features data
   * Merge the test and train activitiy ID data
   * Merge the test and train subject data
   * Get the index of the features.txt that has mean() and std() information
   * Get the names of those index that has mean() and std() information
   * Get subset of the merged feature data with only the mean() and std() information
   * Rename subject column name to 'Subject'
   * Rename activity column nam to 'Activity'
   * Rename the feature columns with the feature name that you obtain from the features dataset
   * Merge the subject, activit and features data
   * Rename activity column values with the corresponding activity name from the activity labels file
   * Order the combined dataset by Subject and Activity
   * Summarize the data by getting the mean for each feature per Subject per Activity
   * Return the summarized data

*Running the script*
   * Make sure the data folder is located in the working directory
   * Make sure that the plyr and data.table package is installed
   * Source the script
   * Run the script and assign the output to a variable - you can inspect the output
   * Optionally you can write the output to a text or a csv file
   
   Example
  ```
   source('~/workspace/datasciencecoursera/gettingAndCleaningData/run_analysis.R')
   output <- run_analysis()
   write.table(output, file="output.text", row.names=FALSE)
   write.csv(output, file="output.csv", row.names=FALSE)
   ```


# The Output

The output of the analysis will have a mean summary of all the 79 mean() and std() features for each 30 subject and 6 activity. The ouput would have a dimension of 180 rows (30 dubject X 6 activity) and 81 columns (subject, activity and the 79 features)

Sample output in text fromat: summary.txt
Sample output in text fromat: summary.csv

Snippet of the output
```
> head(output)
"Subject" "Activity" "tBodyAcc-mean()-X" "tBodyAcc-mean()-Y" "tBodyAcc-mean()-Z" "tBodyAcc-std()-X" "tBodyAcc-std()-Y" "tBodyAcc-std()-Z" "tGravityAcc-mean()-X" "tGravityAcc-mean()-Y" "tGravityAcc-mean()-Z" "tGravityAcc-std()-X" "tGravityAcc-std()-Y" "tGravityAcc-std()-Z" "tBodyAccJerk-mean()-X" "tBodyAccJerk-mean()-Y" "tBodyAccJerk-mean()-Z" "tBodyAccJerk-std()-X" "tBodyAccJerk-std()-Y" "tBodyAccJerk-std()-Z" "tBodyGyro-mean()-X" "tBodyGyro-mean()-Y" "tBodyGyro-mean()-Z" "tBodyGyro-std()-X" "tBodyGyro-std()-Y" "tBodyGyro-std()-Z" "tBodyGyroJerk-mean()-X" "tBodyGyroJerk-mean()-Y" "tBodyGyroJerk-mean()-Z" "tBodyGyroJerk-std()-X" "tBodyGyroJerk-std()-Y" "tBodyGyroJerk-std()-Z" "tBodyAccMag-mean()" "tBodyAccMag-std()" "tGravityAccMag-mean()" "tGravityAccMag-std()" "tBodyAccJerkMag-mean()" "tBodyAccJerkMag-std()" "tBodyGyroMag-mean()" "tBodyGyroMag-std()" "tBodyGyroJerkMag-mean()" "tBodyGyroJerkMag-std()" "fBodyAcc-mean()-X" "fBodyAcc-mean()-Y" "fBodyAcc-mean()-Z" "fBodyAcc-std()-X" "fBodyAcc-std()-Y" "fBodyAcc-std()-Z" "fBodyAcc-meanFreq()-X" "fBodyAcc-meanFreq()-Y" "fBodyAcc-meanFreq()-Z" "fBodyAccJerk-mean()-X" "fBodyAccJerk-mean()-Y" "fBodyAccJerk-mean()-Z" "fBodyAccJerk-std()-X" "fBodyAccJerk-std()-Y" "fBodyAccJerk-std()-Z" "fBodyAccJerk-meanFreq()-X" "fBodyAccJerk-meanFreq()-Y" "fBodyAccJerk-meanFreq()-Z" "fBodyGyro-mean()-X" "fBodyGyro-mean()-Y" "fBodyGyro-mean()-Z" "fBodyGyro-std()-X" "fBodyGyro-std()-Y" "fBodyGyro-std()-Z" "fBodyGyro-meanFreq()-X" "fBodyGyro-meanFreq()-Y" "fBodyGyro-meanFreq()-Z" "fBodyAccMag-mean()" "fBodyAccMag-std()" "fBodyAccMag-meanFreq()" "fBodyBodyAccJerkMag-mean()" "fBodyBodyAccJerkMag-std()" "fBodyBodyAccJerkMag-meanFreq()" "fBodyBodyGyroMag-mean()" "fBodyBodyGyroMag-std()" "fBodyBodyGyroMag-meanFreq()" "fBodyBodyGyroJerkMag-mean()" "fBodyBodyGyroJerkMag-std()" "fBodyBodyGyroJerkMag-meanFreq()"
1 "LAYING" 0.22159824394 -0.0405139534294 -0.11320355358 -0.9280564692 -0.83682740562 -0.826061401628 -0.24888179828 0.70554977346 0.4458177198 -0.8968300184 -0.90772000676 -0.85236629022 0.0810865342 0.0038382040088 0.010834236361 -0.958482112 -0.9241492736 -0.9548551108 -0.016553093978 -0.064486124088 0.14868943626 -0.87354386782 -0.9510904402 -0.9082846626 -0.107270949192 -0.04151728689 -0.0740501211 -0.9186085208 -0.9679072436 -0.9577901596 -0.8419291525 -0.79514486386 -0.8419291525 -0.79514486386 -0.9543962646 -0.9282456284 -0.874759548 -0.81901016976 -0.96346103 -0.9358409828 -0.9390990524 -0.86706520518 -0.8826668762 -0.9244374346 -0.8336255561 -0.81289155944 -0.158792670508 0.097534841586 0.08943765522 -0.9570738838 -0.9224626098 -0.9480609042 -0.9641607086 -0.9322178704 -0.9605869872 0.132419092398 0.024513618956 0.02438794528 -0.850249174586 -0.9521914948 -0.909302721 -0.8822964508 -0.9512320494 -0.9165825082 -0.003546795856 -0.091529130882 0.01045812566 -0.8617676481 -0.7983009404 0.08640856294 -0.9333003608 -0.9218039756 0.26639115416 -0.8621901854 -0.82431943968 -0.1397750127 -0.9423669466 -0.9326606676 0.17648590708
1 "SITTING" 0.261237565425532 -0.00130828765170213 -0.104544182255319 -0.977229008297872 -0.922618641914894 -0.93958629106383 0.831509933404255 0.204411592680851 0.332043702765957 -0.968457145744681 -0.935517055957447 -0.949040933191489 0.0774825199574468 -0.000619102785106384 -0.00336779235021277 -0.986430711276596 -0.981371965319149 -0.987910804468085 -0.045350056512766 -0.0919241549361702 0.0629313811914894 -0.977211283191489 -0.966473895319149 -0.941425920851064 -0.0936793807234043 -0.0402118124255319 -0.046702627 -0.99173159212766 -0.989518068510638 -0.987935806382979 -0.948536786170213 -0.927078418723404 -0.948536786170213 -0.927078418723404 -0.987364195531915 -0.984120024042553 -0.93089249 -0.934531840425532 -0.991976341276596 -0.988308728510638 -0.979641238723404 -0.944084550425532 -0.959184889148936 -0.976412313191489 -0.917275006382979 -0.934469558085106 -0.0495135975489362 0.0759460768510638 0.238829870148936 -0.986597022553191 -0.981579467021277 -0.986053092340425 -0.987492994468085 -0.982513909574468 -0.988339184893617 0.256610823568085 0.0475437839595745 0.0923920032553192 -0.976161464042553 -0.975838585319149 -0.951315544468085 -0.977904227021277 -0.962345042553192 -0.94391784106383 0.189153021260851 0.0631270669787234 -0.0297839207446809 -0.947782922553192 -0.928444801702128 0.236655011680851 -0.985262126808511 -0.981606177446808 0.351852201957447 -0.958435589361702 -0.932198374893617 -0.000262186717021277 -0.989797547234043 -0.987049617234043 0.184775928085106
1 "STANDING" 0.278917629056604 -0.0161375901037736 -0.110601817735849 -0.995759901509434 -0.973190056415094 -0.979775876981132 0.942952000377358 -0.272983832264151 0.0134905823226415 -0.99376298509434 -0.981225957924528 -0.976324063584906 0.0753766542264151 0.00797573092830189 -0.00368524954709434 -0.994604542264151 -0.98564873245283 -0.992251177358491 -0.0239877347979245 -0.0593972209811321 0.074800751 -0.987191946603774 -0.98773444 -0.980645626981132 -0.0996092129056604 -0.0440627877924528 -0.0489505466716981 -0.992945106981132 -0.995137917358491 -0.992108467169811 -0.984278207358491 -0.981942928867925 -0.984278207358491 -0.981942928867925 -0.992367790566038 -0.993096209433962 -0.976493792830189 -0.978690028679245 -0.994966790566038 -0.994733238679245 -0.995249932641509 -0.977070847735849 -0.985297098679245 -0.99602834509434 -0.972293102075472 -0.977937259622642 0.0865153619088679 0.117478948718868 0.244858585792453 -0.994630797358491 -0.985418704528302 -0.990752166037736 -0.995073759245283 -0.987018226792453 -0.992349818113208 0.314182940150943 0.0391618954943396 0.138581478749057 -0.986386786037736 -0.988984455849057 -0.980773122830189 -0.987497128679245 -0.987107727735849 -0.98234533 -0.120293020603774 -0.0447191978169811 0.100607635139623 -0.985356361132075 -0.982313804716981 0.284555290773585 -0.99254247754717 -0.992536003396226 0.422220102264151 -0.984617623396226 -0.978466072075472 -0.0286057725328302 -0.994815376981132 -0.994671123207547 0.334498734301887
1 "WALKING" 0.277330758736842 -0.0173838185273684 -0.111148103547368 -0.283740258842105 0.114461336747368 -0.260027902210526 0.935223201473684 -0.282165021263158 -0.068102864 -0.976609642526316 -0.971305961473684 -0.947717226105263 0.0740416333157895 0.0282721095884211 -0.00416840617789474 -0.113615602435789 0.0670025007684211 -0.502699788526316 -0.041830963526 -0.0695300462115789 0.0849448173042105 -0.473535485894737 -0.0546077686594737 -0.344266629473684 -0.0899975423705263 -0.0398428709463158 -0.0461309295021053 -0.207421854757895 -0.304468510631579 -0.404255452631579 -0.136971176556842 -0.219688645631579 -0.136971176556842 -0.219688645631579 -0.141428809031579 -0.0744717500625263 -0.160979552536842 -0.186978364526316 -0.298703679084211 -0.325324878894737 -0.202794306326316 0.0897127264021053 -0.331560117789474 -0.319134719578947 0.056040006846 -0.279686751494737 -0.207548374494737 0.113093646103158 0.0497265196172632 -0.170546964549579 -0.0352255241130632 -0.468999224631579 -0.133586606326316 0.106739857136 -0.534713440421053 -0.209261973376842 -0.386237143210526 -0.185530281244211 -0.339032197115789 -0.103059416434737 -0.255940940315789 -0.516691938736842 -0.0335081597884211 -0.436562227473684 0.0147844986621053 -0.0657746190010526 0.00077332156431579 -0.128623450629474 -0.398032586842105 0.1906437244 -0.0571194000343158 -0.103492403002105 0.0938221807027368 -0.199252568986316 -0.321017953894737 0.268844367525895 -0.319308593778947 -0.381601911789474 0.190663448793684
1 "WALKING_DOWNSTAIRS" 0.289188320408163 -0.00991850461020408 -0.107566190908163 0.0300353383483878 -0.0319359434489796 -0.230434213204082 0.931874418979592 -0.266610338979592 -0.0621199585938775 -0.950559811632653 -0.937018658979592 -0.895939695102041 0.0541553164897959 0.0296504490408163 -0.0109719730183673 -0.012283860544898 -0.101601390640816 -0.345735032326531 -0.0350781902989796 -0.0909371290204082 0.0900850142030612 -0.458030542938775 -0.126349194938775 -0.124702454242857 -0.0739592036271429 -0.0439902783367347 -0.0270461061061224 -0.487027342244898 -0.238824827530612 -0.268761480242857 0.0271882914106122 0.0198843506265306 0.0271882914106122 0.0198843506265306 -0.0894474807979592 -0.0257877197081633 -0.0757412543673469 -0.225724368061224 -0.295463843346939 -0.306510645530612 0.0382291831510204 0.00154990783591837 -0.225574471693878 0.0243308391387755 -0.112963739953061 -0.297927894693878 -0.307395198687755 0.0632200839346939 0.294322700810612 -0.0276638676122449 -0.12866715764898 -0.288334735714286 -0.0863278966402041 -0.134580008877551 -0.401721464285714 -0.253164344918367 -0.33758970122449 0.00937223889183673 -0.352449631363265 -0.0557022524693878 -0.0318694271979592 -0.495422486102041 -0.181414728657143 -0.238443565306122 -0.100453729040816 0.0825511487183673 -0.0756762067714286 0.0965845343040816 -0.186530301073469 0.119187142767959 0.0262184949326531 -0.104052260726531 0.0764915474326531 -0.185720285744898 -0.398350390122449 0.349613895469388 -0.281963359177551 -0.391919876612245 0.190000706165102
1 "WALKING_UPSTAIRS" 0.255461689622641 -0.0239531492643396 -0.0973020020943396 -0.35470802509434 -0.00232026501698113 -0.0194792388471698 0.89335109754717 -0.362153364339623 -0.075402939754717 -0.956367027924528 -0.952849233207547 -0.912379410377358 0.101372729922642 0.0194863076188679 -0.0455625449113208 -0.446843887735849 -0.378274426037736 -0.706593530943396 0.050549379754717 -0.166170015088679 0.0583595463981132 -0.544871104528302 0.00410518379811321 -0.50716867490566 -0.122232768011321 -0.0421485884509434 -0.0407125527654717 -0.614786508490566 -0.601696656226415 -0.606332002264151 -0.129927630735849 -0.324970929245283 -0.129927630735849 -0.324970929245283 -0.466503446226415 -0.478991622075472 -0.126735589969811 -0.14861931805283 -0.59488286509434 -0.648553044339623 -0.404321784150943 -0.190976720811321 -0.433349702075472 -0.337428188679245 0.0217695106566038 0.0859565543849057 -0.418735000377359 -0.160697213516981 -0.520114793584906 -0.479875245660377 -0.41344458754717 -0.685474353962264 -0.461907025849057 -0.381777065283019 -0.726040200754717 -0.377023128301887 -0.509495531698113 -0.551104284150943 -0.492611667924528 -0.319474609056604 -0.453597213018868 -0.565892490754717 0.151538905566038 -0.57170784 -0.187450247737736 -0.473574786603774 -0.133373904258491 -0.352395944716981 -0.416260101509434 -0.0977433496415094 -0.44265216245283 -0.533059853773585 0.085352409154717 -0.325961457396226 -0.182985518264151 -0.219303376110566 -0.634665082075472 -0.693930521509434 0.114277342454717
2 "LAYING" 0.281373403958333 -0.0181587397583333 -0.107245610416667 -0.974059464791667 -0.98027739875 -0.984233296875 -0.509754238125 0.752536639375 0.646834879583333 -0.959014441458333 -0.988211865208333 -0.984230418125 0.0825972511666667 0.012254788451875 -0.00180264895625 -0.98587216875 -0.98317254125 -0.988442014375 -0.01847660675 -0.111800824583333 0.144882846104167 -0.988275232916667 -0.982291608958333 -0.960306560416667 -0.101974134208333 -0.0358590176083333 -0.0701783020833333 -0.993235849166667 -0.989567537916667 -0.98803582125 -0.977435485208333 -0.972873912916667 -0.977435485208333 -0.972873912916667 -0.987741696041667 -0.98551807625 -0.950011569583333 -0.961164053958333 -0.991767074166667 -0.989718095208333 -0.976725059791667 -0.979800877916667 -0.984380981875 -0.973246482083333 -0.981025105625 -0.984792185 -0.146482792591667 0.2572894655 0.402532553395833 -0.985813630833333 -0.982768250416667 -0.986197134583333 -0.987250255833333 -0.984987392916667 -0.989345368541667 0.159808328563875 0.1212064240125 0.190558218145833 -0.9864311425 -0.983321635416667 -0.9626718875 -0.988860685833333 -0.981910616458333 -0.963174222291667 0.10261131938125 0.04228066839375 0.0552985986479167 -0.975110196458333 -0.975121387916667 0.2662982125 -0.985374114791667 -0.984568489166667 0.3417585745 -0.972112972708333 -0.96109837875 0.01856447223125 -0.990248702291667 -0.989492660416667 0.264801505395833
2 "SITTING" 0.27708735173913 -0.0156879937282609 -0.109218272456522 -0.986822279565217 -0.950704499130435 -0.95982817173913 0.940477273043478 -0.105630024498783 0.19872676876087 -0.979988760869565 -0.956750273043478 -0.954415873043478 0.0722564387173913 0.0116954511323913 0.00760546929869565 -0.988055854130435 -0.977983955434783 -0.98751821173913 -0.0454706620434783 -0.0599286797043478 0.0412277462173913 -0.985742027826087 -0.978919526956522 -0.959803708695652 -0.0936328412826087 -0.0415602029130435 -0.04358509665 -0.989709023043478 -0.990889614782609 -0.985542325652174 -0.967893623913043 -0.953081444130435 -0.967893623913043 -0.953081444130435 -0.986774713043478 -0.984475868043478 -0.946035087173913 -0.961313624130435 -0.991081493913043 -0.989594919565217 -0.985803840652174 -0.957343498478261 -0.970162172608696 -0.98736209 -0.950073754130435 -0.956862864130435 0.08519282071 0.150193956163043 0.0960646759586957 -0.987848793695652 -0.977139702826087 -0.985129050217391 -0.989459107391304 -0.980804228478261 -0.988570804130435 0.305546818084783 0.0262448647134783 0.0929030630369565 -0.982621389565217 -0.982100923695652 -0.959814822391304 -0.986808501521739 -0.977356188695652 -0.963522659782609 0.130523120891304 -0.192142737913043 0.0409472348676087 -0.96127374826087 -0.955575602173913 0.130934202854348 -0.983874698913043 -0.984124185869565 0.280062423956522 -0.971840596086956 -0.961385745217391 -0.106358909173913 -0.989861950869565 -0.989632908913043 0.1947221493
```
